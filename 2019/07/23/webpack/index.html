<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  
  
  <title>  自动化构建工具 |   余鹏的博客-前端-seo优化与实战经验分享博客 </title>

  <meta name="Keywords" content="余鹏,博客,前端,实战经验分享">

  <meta name="Description" content="Hello! I'm Yu Peng.建立这个博客来记录自己的前端技术学习成果、以及网站的SEO优化的认识、对技术的积累和知识的巩固、追求且学习新的知识，与大家分享交流。">

  
    <link rel="icon" href="/images/favicon.png">
  


  <link rel="stylesheet" href="/nayo.min.css"> 
</head>  
  <body>   
    
      <header class="header-wrapper">

  <nav class="inner">
    <div class="title">
      <a href="/">
        <img class="logo" src="/images/logo.png">
      </a>
    </div>

    <ul class="menu">
      
      
      <li class="item">
        <a class="link" id="menu-home" href="/">
          <i class="iconfont icon-home">
        </i></a>
      </li>
      
      
      
      <li class="item">
        <a class="link" id="menu-archives" href="/archives">
          <i class="iconfont icon-archives">
        </i></a>
      </li>
      
      
      
      <li class="item">
        <a class="link" id="menu-tags" href="/tags">
          <i class="iconfont icon-tags">
        </i></a>
      </li>
      
      
      
      <li class="item">
        <a class="link" id="menu-about" href="/about">
          <i class="iconfont icon-about">
        </i></a>
      </li>
      
      
      
      <li class="item">
        <a class="link" id="menu-search">
          <i class="iconfont icon-search">
        </i></a>
        

        
      
    </li></ul>
  </nav>
</header>

<header class="mobile-header-wrapper">
  <i id="mobile-toggle" class="iconfont icon-menu mobile-toggle"></i>
</header>   

      <div class="container">       
          
          
            <div class="container-inner">  
          

          <article class="post slideDownMin">
  
	
<div class="header">
		<p class="title">	
			自动化构建工具
		</p>
		<div class="info">	
			<time>
				7月 23, 2019
			</time>

			
			
				<i class="iconfont icon-words"></i>
				<span class="words">2286
				</span>
			
		</div>
</div> 
	

    <script type="text/x-mathjax-config">
        var post = document.getElementsByClassName("post")[0];  
        MathJax.Hub.Config({
            showProcessingMessages: false,
            messageStyle: "none",    
            tex2jax: {
                inlineMath:  [ ["$", "$"] , ["\\(","\\)"]],
                displayMath: [ ["$$","$$"] , ["\\[","\\]"]],
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a'],
            },
            "HTML-CSS": {            
                showMathMenu: false
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub,post]);
    </script>
    <style>.MathJax{outline:0;}</style>

    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.2/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
 

	  <div class="typo post-content ">

		

			
					<p>使用构建工具去对 JS、CSS、HTML、LESS、IMG 等进行合并压缩构建到实现自动化构建项目。</p>
<a id="more"></a>



<h3 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h3><p>本质上，webpack是一个现代JavaScript应用程序的静态模块打包器(module bundler)。当webpack处理应用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个bundle。</p>
<h4 id="了解Webpack相关"><a href="#了解Webpack相关" class="headerlink" title="了解Webpack相关"></a>了解Webpack相关</h4><ol>
<li><p>什么是webpack</p>
<ul>
<li><p>Webpack是一个模块打包器(bundler)。</p>
</li>
<li><p>在Webpack看来, 前端的所有资源文件(js/css/img/less/…)都会作为模块处理</p>
</li>
<li><p>它将根据模块的依赖关系进行静态分析，生成对应的静态资源</p>
</li>
</ul>
</li>
</ol>
<p>​      </p>
<ol start="2">
<li><p>理解Loader</p>
<ul>
<li><p>Webpack 本身只能加载JS模块，如果要加载其他类型的文件(模块)，就需要使用对应的loader 进行转换/加载</p>
</li>
<li><p>Loader 本身也是运行在 node.js 环境中的 JavaScript 模块</p>
</li>
<li><p>它本身是一个函数，接受源文件作为参数，返回转换的结果</p>
</li>
<li><p>loader 一般以 xxx-loader 的方式命名，xxx 代表了这个 loader 要做的转换功能，比如 json-loader。</p>
</li>
</ul>
</li>
</ol>
<p>​      </p>
<ol start="3">
<li><p>配置文件(默认)</p>
<ul>
<li>webpack.config.js : 是一个node模块，返回一个 json 格式的配置信息对象</li>
</ul>
</li>
</ol>
<p>​      </p>
<ol start="4">
<li><p>插件</p>
<ul>
<li><p>插件件可以完成一些loader不能完成的功能。</p>
</li>
<li><p>插件的使用一般是在 webpack 的配置信息 plugins 选项中指定。</p>
</li>
<li><p>Webpack 本身内置了一些常用的插件，还可以通过 npm 安装第三方插件</p>
</li>
</ul>
</li>
</ol>
<p>​      </p>
<h4 id="学习文档"><a href="#学习文档" class="headerlink" title="学习文档 :"></a>学习文档 :</h4><ul>
<li><p>webpack官方入门: <a href="http://webpack.github.io/docs/tutorials/getting-started/" target="_blank" rel="noopener">http://webpack.github.io/docs/tutorials/getting-started/</a></p>
</li>
<li><p>Webpack中文指南: <a href="http://zhaoda.net/webpack-handbook/index.html" target="_blank" rel="noopener">http://zhaoda.net/webpack-handbook/index.html</a></p>
</li>
</ul>
<h4 id="你将学到"><a href="#你将学到" class="headerlink" title="你将学到:"></a>你将学到:</h4><ol>
<li><p>How to install webpack</p>
</li>
<li><p>How to use webpack</p>
</li>
<li><p>How to use loaders</p>
</li>
<li><p>How to use the development server</p>
</li>
<li><p>How to use image</p>
</li>
</ol>
<p>​    </p>
<h4 id="初始化项目-package-json"><a href="#初始化项目-package-json" class="headerlink" title="初始化项目: package.json"></a>初始化项目: package.json</h4>  <figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"webpack_test"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="安装webpack"><a href="#安装webpack" class="headerlink" title="安装webpack"></a>安装webpack</h4>  <figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">npm install <span class="symbol">webpack@</span><span class="number">1</span> -g  <span class="comment">//全局安装</span></span><br><span class="line">npm install <span class="symbol">webpack@</span><span class="number">1</span> --save-dev  <span class="comment">//局部安装</span></span><br></pre></td></tr></table></figure>

<h4 id="使用webpack配置文件"><a href="#使用webpack配置文件" class="headerlink" title="使用webpack配置文件"></a>使用webpack配置文件</h4><ol>
<li><p>创建webpack.config.js</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">"./src/js/entry.js"</span>,<span class="comment">//入口路径配置</span></span><br><span class="line">  output: &#123;<span class="comment">//出口配置</span></span><br><span class="line">      path: __dirname + <span class="string">'/build/js'</span>,<span class="comment">//输出路径</span></span><br><span class="line">      filename: <span class="string">"bundle.js"</span><span class="comment">//输出文件名</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">module</span>: &#123;</span><br><span class="line">    loaders: [<span class="comment">//模块加载器配置</span></span><br><span class="line">      &#123; test: <span class="regexp">/\.css$/</span>, loader: <span class="string">"style!css"</span>&#125;  <span class="comment">//所有css文件声明使用css-loader和style-loader加载器</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>编译</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">webpack</span><br><span class="line">webpack <span class="params">--progress</span>   <span class="string">//</span>编译显示进度</span><br></pre></td></tr></table></figure>
</li>
<li><p>问题——每次修改模块文件内容的重新手动打包，刷新</p>
</li>
<li><p>自动编译</p>
<p>webpack –watch  //编译并启动监视(但需要刷新浏览器)</p>
</li>
<li><p>浏览器自动刷新(热加载)—-解决手动刷新浏览器问题</p>
<p>npm install webpack-dev-server@1 -g<br>webpack-dev-server<br> 访问: <a href="http://localhost:8080/webpack-dev-server/" target="_blank" rel="noopener">http://localhost:8080/webpack-dev-server/</a></p>
<pre><code>; http://localhost:8080</code></pre><p> !!!发现问题—-访问的是文件夹路径而不是页面<br>   devServer:{</p>
<pre><code>    contentBase: &apos;./build&apos;,//内置服务器动态加载页面所在的目录
    historyApiFallback:true,//不跳转
    inline:true
}</code></pre><p>   contentBase : 默认webpack-dev-server为根文件夹提供内置的服务，如果其他目录下的文件</p>
<pre><code>提供服务需要在此设置目录(我们设置为build文件夹)</code></pre><p>   historyApiFallback : 开发单页面的时候非常有用，它依赖于H5的 history API，当</p>
<pre><code>设置为true的时候所有的跳转都指向index.html；</code></pre><p>   port：可以设置端口号，不设置时候默认为 8080<br>   inline ： 设置为true的时候回自动刷新(有的版本需要配合hot : true使用)</p>
<p> webpack-dev-server<br> 访问: <a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080</a></p>
<p>问题：页面没有热加载，自动刷新，因为index的src引入的硬盘中的build文件而不是webpack-dev-server服务器内存中的build<br>特点:<br> 自动编译并刷新界面<br> 不生成编译后的文件, 直接在内存中编译处理, 并启动服务器运行项目</p>
</li>
</ol>
<h4 id="配置npm-script命令"><a href="#配置npm-script命令" class="headerlink" title="配置npm script命令"></a>配置npm script命令</h4>  <figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"start"</span>: <span class="string">"webpack-dev-server"</span>,</span><br><span class="line">  <span class="string">"build"</span>: <span class="string">"webpack"</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">npm</span> start: 编译运行项目</span><br><span class="line"><span class="built_in">npm</span> build: 编译打包</span><br></pre></td></tr></table></figure>

  	
					
	  </div>     
	  

	<div class="bottom">
  <div class="other">
    <div class="meta">
      

      
      <i class="iconfont icon-tag"></i>
      <a class="tag-link" href="/tags/webpack/">webpack</a>
      
    </div>

    <div class="operate">
      
      <span class="text">Share</span>
      <ul class="share">
	   			             
        <li class="iconfont 
		icon-share-qq 
		-mob-share-qq 
		item"></li>		
   	   			             
        <li class="iconfont 
		icon-share-weixin 
		-mob-share-weixin 
		item"></li>		
   	   			             
        <li class="iconfont 
		icon-share-weibo 
		-mob-share-weibo 
		item"></li>		
   	   
</ul>	

<script id="-mob-share" src="https://f1.webshare.mob.com/code/mob-share.js?appkey=21d601593a1de"></script>
      
    </div>
  </div>


  
  <nav class="nav">
    <div class="link">
      
      <a href="/2019/07/08/Less/" class="link-wrap">
        <strong class="caption">older</strong>
        
        <span class="title">
          Less
        </span>
      </a>
      
    </div>
    <div class="link">
      
    </div>
  </nav>
  
</div> 
	
<div class="comment">

    

    <div id="comment">
    </div>

    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>

    <script src="//unpkg.com/valine@v1.1.8-beta/dist/Valine.min.js"></script>

    <script>
        new Valine({
            el: '#comment',
            notify: false,
            verify: false,
            app_id: 'cFM0eCo0CQ9xmBXmHi1eltol-gzGzoHsz',
            app_key: 'oh9tizsnvV2vNvWgqEvoNtQO',
            path: window.location.pathname,
            avatar: 'mm',
            guest_info: ['nick', 'mail']
        });
    </script>
    
</div>	
</article>

          </div> 
      </div>            
    
        <i id="toTop" class="iconfont icon-backtotop"></i>

  
    <div class="none" id="search">
    <div class="header">
        <input type="text" placeholder="输入你想搜索的" id="search-input" class="input">
        
        <i id="search-cancel" class="iconfont icon-cancel"></i>
    </div>

    <div id="search-result" class="result"></div>
</div>
     <div class="mobile-menu">      

      
      <img class="mobile-menu-icon" src="/images/logo.png">  
      

         
            

            <a class="mobile-menu-link" href="/">首页
            </a>
            
         
            

            <a class="mobile-menu-link" href="/archives">归档
            </a>
            
         
            

            <a class="mobile-menu-link" href="/tags">标签
            </a>
            
         
            

            <a class="mobile-menu-link" href="/about">关于
            </a>
            
         
                          

            <a class="mobile-menu-link mobile-menu-search" href="#">搜索 </a>                 
            
         
      
</div>
        
    


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?2d14233d5150db72b8cddabf0dab7d73"; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>






<script>
(function(i,s,o,g,r,a,m){
	i['GoogleAnalyticsObject']=r;
	i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-144218558-1', 'auto');
ga('send', 'pageview');

</script>

     
    


<footer class="footer">
	<div class="inner">
		<div class="copyright">
			&copy;
			
			2019
			Kevin
		</div>
	</div>
</footer>   

    <script src="/nayo.bundle.js"></script>           
  </body>        
</html>